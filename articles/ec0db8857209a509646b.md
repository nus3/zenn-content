---
title: "Nuxt(vue) + TypeScriptã‚’ã¯ã˜ã‚ã‚‹ã¨ãã«çŸ¥ã£ã¦ãŠããŸã‹ã£ãŸ10ã®ã“ã¨"
emoji: "ğŸ•Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nuxt", "vue", "typescript"]
published: true
---

## æ¦‚è¦

1 å¹´åŠå‰ã®è‡ªåˆ†ã«ã‚€ã‘ã¦ Nuxt + TypeScript ã§é–‹ç™ºã™ã‚‹æ™‚ã«ä¼ãˆãŸã‹ã£ãŸ 10 ã®ã“ã¨
(Nuxt + TypeScript ã®é–‹ç™ºã‚’ 1 å¹´åŠã‚„ã£ãŸæŒ¯ã‚Šè¿”ã‚Šã¨åçœ)

ç¤¾å†… LT ç”¨ã«ä½œã£ãŸã‚¹ãƒ©ã‚¤ãƒ‰ã¯ã‚³ãƒãƒ©
@[speakerdeck](a6b89ba70ccb47cdbfb20d7cd5c1d5b0)

## æ³¨æ„äº‹é …

è¨˜è¼‰ã—ãŸã‚³ãƒ¼ãƒ‰ã¯`vue-property-decorator`ã‚’ä½¿ç”¨ã—ãŸè¨˜æ³•ã«ãªã£ã¦ã„ã¾ã™

## ãã® 1

**`props` ã¨ `$emit` ã ã¨ props ã§å®Œçµã•ã›ãŸæ–¹ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã„ã„ã**

props ã§é–¢æ•°ã‚’æ¸¡ã›ã‚‹ã®ã§é–¢æ•°æ¸¡ã—ãŸã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã„ã„ã‚ˆã­ã£ã¦ãŠè©±(è£œå®Œã‚‚åŠ¹ãã‚ˆã†ã«ãªã‚‹ã—)
atomic design ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†ã‘ã¦ãŸã‚Šã™ã‚‹ã¨ã€è¦ª â†’ å­ â†’ å­« â†’ å­«å­«ã¿ãŸã„ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒªãƒ¬ãƒ¼ãŒé•·ããªã£ãŸéš›ã«ã€props ã§å®Œçµã•ã›ã¦ãŠãã¨ props ã§æ¸¡ã—ãŸæŒ™å‹•ã ã‘ã—ã‹ã—ãªã„ã®ã§è¦ªã§å®šç¾©ã—ãŸéƒ¨åˆ†ã‚’è¦‹ã‚‹ã ã‘ã§ã„ã„ã€‚
ãã‚Œã«å¯¾ã—ã€emit ã®å ´åˆã€emit ã§å®šç¾©ã•ã‚ŒãŸå†…å®¹ãŒå…¥ã‚‹ä½™åœ°ãŒã‚ã‚‹ã®ã§ã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® emit ã§å®šç¾©ã•ã‚ŒãŸå†…å®¹ã‚‚ç¢ºèªã—ãªã„ã¨ã„ã‘ãªã„ã€‚

### emit ã‚’ä½¿ã£ãŸå®Ÿè£…

å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```vue
<template>
  <p @click="onClick">{{ text }}</p>
</template>

<script lang="ts">
import { Component, Emit, Prop, Vue } from "nuxt-property-decorator";

@Component({
  name: "LinkText",
})
export default class LinkText extends Vue {
  @Prop() private readonly text!: string;
  @Emit() private onClick(): void {}
}
</script>
```

è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```vue
<template>
  <link-text text="ãªã‚“ã‹url" @on-click="clickUrl()" />
</template>

<script lang="ts">
import { Component, Prop, Vue } from "nuxt-property-decorator";

import LinkText from "@/components/atoms/button/LinkText/index.vue";

@Component({
  name: "ParentComponent",
  components: {
    LinkText,
  },
})
export default class ParentComponent extends Vue {
  private clickUrl(): void {
    // ãªã‚“ã‹ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã®å‡¦ç†
  }
}
</script>
```

### props ã ã‘ã§å®Œçµã•ã›ãŸå ´åˆ

å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```vue
<template>
  <p @click="onClick">{{ text }}</p>
</template>

<script lang="ts">
import { Component, Prop, Vue } from "nuxt-property-decorator";

@Component({
  name: "LinkText",
})
export default class LinkText extends Vue {
  @Prop() private readonly text!: string;
  @Prop() private onClick(): () => void;
}
</script>
```

è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```vue
<template>
  <link-text text="ãªã‚“ã‹url" :on-click="clickUrl" />
</template>

<script lang="ts">
import { Component, Prop, Vue } from "nuxt-property-decorator";

import LinkText from "@/components/atoms/button/LinkText/index.vue";

@Component({
  name: "ParentComponent",
  components: {
    LinkText,
  },
})
export default class ParentComponent extends Vue {
  private clickUrl(): void {
    // ãªã‚“ã‹ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã®å‡¦ç†
  }
}
</script>
```

## ãã® 2

**Storybook ã¯å°å…¥ã™ã¹ã—**

- atoms ã‚„ molecules ãªã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œç¢ºèªãŒæ¥½ã«ãªã£ãŸ
- ã“ã¾ã‚ã«ãƒ‡ã‚¶ã‚¤ãƒŠã•ã‚“ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å…¥ã‚Œã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸ
  - [(å‚è€ƒ)Storybook ã®ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚’ Netlify ã‹ã‚‰ s3 ã«ç§»ç®¡ã—ãŸè©±](https://zenn.dev/nus3/articles/dd0e98734a172ce80937)
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆã™ã‚‹ã ã‘ã§ã‚ã‚Œã°ä»–ã®é–‹ç™ºç’°å¢ƒã«ä¾å­˜ã—ãªããªã£ãŸ

## ãã® 3

**atomic design ã®ãƒ«ãƒ¼ãƒ«ã¯ã—ã£ã‹ã‚Šæ±ºã‚ã¨ãã¹ã**

ç‰¹ã« atoms ã¨ molecules ã®é–¢ä¿‚ã‚’ã—ã£ã‹ã‚Šæ±ºã‚ã¦ãŠã

### page

template ä¸€ã¤ä»¥å¤–æŒãŸãªã„
data, method ãŒå…¨éƒ¨ã“ã® page ã«é›†ç´„ã•ã‚Œã¦ã‚‹

### template

ä¸»ã« UI ã®ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ã“ã“ã§å®šç¾©ã™ã‚‹

### organisms

form ã‚„ card ã‚„ navigation ãªã©ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æ§‹æˆã—ã¦ã‚‹è¦ç´ ãŸã¡

### molecules

atom ã‚’çµ„ã¿åˆã‚ã›ã¦ã¤ãã‚‹
atom ã«ãªã„ã‚‚ã®ã¯ atom ã¨ã—ã¦ä½œã‚‹

### atoms

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æœ€å°å˜ä½

## ãã® 4

**props ã®å‹ã®ç½®ãå ´æ‰€ã«æ°—ã‚’ä»˜ã‘ã‚ï¼**

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® props ã®å‹ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜éšå±¤ã« types.ts ã‚’ç”¨æ„ã—ã€
ãã“ã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€model ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ‡ã‚Šé›¢ã›ã‚‹

## ãã® 5

**ä¼¼ãŸæ§˜ãª method ã‚„ data ã‚’æŒã¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¯åŸºåº•ã‚¯ãƒ©ã‚¹ãŒä½¿ãˆã‚‹ã**

```typescript:base.ts
import { Component, Vue } from "nuxt-property-decorator";

import { LoadingDialogProps } from "@/components/organisms/dialog/LoadingDialog/types";

@Component({
  name: "BasePage",
})
export class BasePage extends Vue {
  protected errorDialog: ErrorDialogProps = {
    title: "ã‚¨ãƒ©ãƒ¼",
    content: "ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã«å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚",
    isShowDialog: false,
  };

  protected handleCloseErrorDialog(): void {
    this.errorDialog.isShowDialog = false;
  }
  protected handleOpenErrorDialog(): void {
    this.errorDialog.isShowDialog = true;
  }
}
```

```vue:hoge.vue
<template>
  <hoge-template :error-dialog="errorDialog" />
</template>

<script lang="ts">
import { Component } from "nuxt-property-decorator";

import { BasePage } from "@/components/pageModules/base";
import HogeTemplate from "@/components/template/hoge/Template/index.vue";

@Component({
  name: "hogePage",
  components: {
    HogeTemplate,
  },
})
export default class HogePage extends BasePage {
  // ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç‹¬è‡ªã®å®Ÿè£…
}
</script>
```

## ãã® 6

**ESLint ã¯æœ‰èƒ½ã ã‚ˆ**

ã‚ã‚“ãªã«æ‰‹ã§é ‘å¼µã£ã¦ãŸ import é †ã¯ç°¡å˜ã«è¨­å®šã§ãã¦ format ã‚‚ã§ãã‚‹ã‚“ã‚„ã

```
"eslint-plugin-import": "2.22.1",
"eslint-plugin-simple-import-sort": "5.0.3",
```

```javascript
module.exports = {
  rules: {
    "simple-import-sort/sort": "error",
    "sort-imports": "off",
    "import/first": "error",
    "import/newline-after-import": "error",
    "import/no-duplicates": "error",
  },
};
```

## ãã® 7

**TypeScript ã® interface ã¨ type alias ã®é•ã„ã‚’çŸ¥ã‚Œ**

ã‚ˆã‚Šå³å¯†ã«ã™ã‚‹ãªã‚‰(props ã®å‹ã¨ã‹)type ä½¿ã£ãŸæ–¹ãŒã‚ˆã‹ã£ãŸ
api ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç­‰ã€æ„å›³ã›ã¬ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‹ãŒå¤‰ã‚ã‚‹å ´åˆã¯ interface ä½¿ã†ï¼Ÿ
https://qiita.com/tkrkt/items/d01b96363e58a7df830e#%E6%AF%94%E8%BC%83%E3%81%BE%E3%81%A8%E3%82%81

## ãã® 8

**ãƒãƒ³ãƒ‰ãƒ©ã®å‘½åè¦å‰‡ã¯æƒãˆã‚‹ã¨ã‹ã£ã“ã„ã„**

template ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´åˆã¯ `onã€‡ã€‡`(onClick ã‚„ onChange)
page ã®å ´åˆã¯ `handleã€‡ã€‡`(handleSubmit ã‚„ handleUpload)

atom ã‚„ molecule ã¯ã‚ˆã‚Šå®Œçµã«(onClick)
template ã«ã¯è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®`onã€‡ã€‡`ãŒæ¥ã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ã‚ˆã‚Šè©³ç´°ã«(onClickCloseDialog, onClickSubmitForm ã¨ã‹)

## ãã® 9

**API ã¨ component ã®ä¾å­˜é–¢ä¿‚ã‚’æ–­ã¡åˆ‡ã‚Œã£**

atoms ã‹ã‚‰é–‹ç™ºã—ã€atoms ã¯ä»–ã®ä½•ã«ã‚‚ä¾å­˜ã—ãªã„ã‚ˆã†ã«å®Ÿè£…ã™ã‚‹
molecules ä»¥é™ã¯è‡ªèº«ã‚ˆã‚Šå°ã•ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã«ä¾å­˜ã™ã‚‹æ§˜ã«ã™ã‚‹
ã¾ãŸ API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãã®ã¾ã¾å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® props ã«ã—ãªã„(API ã«ä¾å­˜ã•ã›ãªã„)

## ãã® 10

**props ã¯ã²ã¨ã¾ã¨ã‚ã«**

template ã® props ã¯å¤šããªã‚ŠãŒã¡ã«ãªã‚‹ã®ã§
organisms ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ props ã‚’ä¸€ã¤ã«ã¾ã¨ã‚ã‚‹

### æ‚ªã„ä¾‹

ã©ã® props ãŒã©ã®å­ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä½¿ã‚ã‚Œã¦ã‚‹ã®ã‹ã‚ã‹ã‚Šã¥ã‚‰ã„

```vue
<template>
  <line-channel-create-template
    :content-titles="['ãƒãƒ£ãƒãƒ«ç™»éŒ²']"
    :current-stepper-num="currentStepperNum"
    :error-dialog="errorDialog"
    :how-to-component-name="howToComponentName"
    :is-created-line-login-channel="isCreatedLineLoginChannel"
    :is-created-messaging-api-channel="isCreatedMessagingApiChannel"
    :is-duplicated-messaging-api-channel="isDuplicatedMessagingApiChannel"
    :is-linked-channels="isLinkedChannels"
    :is-progress="isProgress"
    :is-show-how-to="isShowHowTo"
    :is-show-introduction-dialog="isShowIntroductionDialog"
    :line-channel-id="lineChannelId"
    :messaging-api-name="lineChannelName"
    :prevent-dialog="preventDialog"
    :total-steps="totalSteps"
    @click-close-error-dialog-btn="errorDialog.isShowDialog = false"
    @click-close-introduction-dialog-btn="isShowIntroductionDialog = false"
    @click-close-how-to-btn="isShowHowTo = false"
    @click-created-line-login-channel-btn="showLineLoginChannelForm"
    @click-created-messaging-api-channel-btn="showMessagingApiChannelForm"
    @click-how-to-btn="showHowTo"
    @click-linked-channels-btn="linkedChannels"
    @click-pasted-btn="completedCurrentStep"
    @click-prevent-dialog-action-btn="stayPage"
    @click-prevent-dialog-cancel-btn="leavePage"
    @close-prevent-dialog="preventDialog.showDialog = false"
    @click-show-introduction-btn="isShowIntroductionDialog = true"
    @submit-line-login-channel-form="registerLineLoginChannel"
    @submit-messaging-api-channel-form="registerMessagingApiChannel"
  />
</template>
```

### ã„ã„ä¾‹

ãªã‚“ã¨ã„ã†ã“ã¨ã§ã—ã‚‡ã†ãƒ»ãƒ»
ã‚ã‚Œã»ã©æ•£ã‚‰ã‹ã£ã¦ã„ãŸ props ãŒã“ã‚“ãªã«ãƒ»ãƒ»

ã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã‚ã‚Œã‚‹ props ãªã®ã‹ä¸€ç›®ç­ç„¶

```vue
<template>
  <enquete-create-template
    :error-dialog-props="errorDialogProps"
    :enquete-form-props="enqueteForm"
    :loading-dialog-props="loadingDialog"
    :draft-completed-dialog-props="draftCompletedDialog"
  />
</template>
```
